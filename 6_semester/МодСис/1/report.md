---
department: 42
teacher: Татарникова Т. М.
teacher_title: Профессор
theme: Система массового обслуживания (СМО)
variant: 5
number: 1
discipline: Моделирование систем
group: 4128
student: Воробьев В. А.
---

<!--markdownlint-disable ol-prefix, no-inline-html-->
# Постановка задачи

## Задание

Интерпретировать задачу в терминах СМО и рассчитать требуемые характеристики.

## Вариант задания

**Вариант 5:** СМО - билетная касса с одним окошком ($N=1$) и неограниченной очередью. Касса продаёт билеты в пункты А и В. Пассажиров, желающих купить билет в пункт А, проходит в среднем трое за 20 мин, пункт В - двое за 20 мин. Поток пассажиров можно считать простейшим. Кассир в среднем обслуживает трёх пассажиров за 10 мин. Время обслуживания - показательное. Определить: среднее число пассажиров в кассе, среднее число пассажиров в очереди, среднее время, которое проводят пассажиры  в кассе, среднее время простаивания пассажиров в очереди. Проверьте эффективность предложения о том, чтобы продавать билеты в разные пункты соответственно в разных окнах.

## Требование к отчету

- Описание задачи и ее интерпретация в модели СМО.
- Математическая модель СМО.
- Расчет характеристик СМО.
- Анализ результатов расчета СМО (предложения).

# Выполнение работы

## Интерпретация модели

Данная задача может быть интерпретирована в рамках СМО (системы массового обслуживания), где касса представляет собой узел обслуживания, а поток пассажиров образует входящий поток в систему. Также можем утверждать, что СМО имеет неограниченную очередь.

В данной формулировки задачи можем выявить следующие значения:

$\lambda_A={\frac{3}{20}\cdot60}=9\;пассажиров\:в\:час$

$\lambda_A={\frac{2}{20}\cdot60}=6\;пассажиров\:в\:час$

$\mu=\frac{3}{10}\cdot60=18\;пассажиров\:в\:час$

Определить:

1. среднее число пассажиров в кассе;

2. среднее число пассажиров в очереди;

3. среднее время, которое проводят пассажиры  в кассе;

4. среднее время простаивания пассажиров в очереди.

Проверить:

- эффективность предложения о том, чтобы продавать билеты в разные пункты соответственно в разных окнах. Или иначе найти среднюю характеристику для двух отдельных СМО.

## Математическая модель

Для составление математической модели на основе нашей интерпретации воспользуемся формулами \ref{eq:first} - \ref{eq:last}.

$$\rho=\frac{\lambda}{\mu},$$
<sueq id="first">где:

- $\rho$ - интенсивность трафика, то есть среднее число заявок в системе;
- $\lambda$ - интенсивность входного потока, то есть среднее число заявок, поступающих в систему за единицу времени;
- $\mu$ - интенсивность обслуживания, то есть среднее число заявок, обслуживаемых системой за единицу времени.

$$L_{оч}=\frac{\rho^2}{1-\rho},$$
<sueq>где:

- $L_{оч}$ - среднее число заявок в очереди;

$$T_{оч}=\frac{L_{оч}}{\lambda},$$
<sueq>где:

- $T_{оч}$ - среднее время пребывания заявки в очереди;

$$L_{об}=\rho,$$
<sueq>где:

- $L_{об}$ - среднее число заявок на обслуживании.

$$T_{об}=\frac{\rho}{\lambda},$$
<sueq>где:

- $T_{об}$ - среднее время обслуживания заявки.

$$L_{сист}={L_{об}+L_{оч}},$$
<sueq>где:

- $L_{сист}$ - среднее число заявок в системе.

$$T_{сист}={T_{об}+T_{оч}},$$
<sueq id="last">где:

- $T_{сист}$ - среднее время пребывания заявки в системе.

## Расчет характеристик

Для расчета характеристик был написан скрипт на Python, который изображен ниже.
Выбор пал на Python ввиду его простоты, удобства и хорошей поддержке математических операций.

```py
def print_map(map):
    for key in sorted(map):
        print(f"{key} = {round(map[key],2)}")


def calculate_system_metrics(lmbda, mu):
    rho = lmbda / mu
    if(rho > 1):
        print("Бесконечное число состояний")
        return
    L_queue = rho * rho / (1 - rho)
    T_queue = L_queue / lmbda

    L_service = rho
    T_service = rho / lmbda

    return {
        'rho': rho,
        'L_queue': L_queue,
        'T_queue': T_queue,
        'L_service': L_service,
        'T_service': T_service,
        'L_system': L_queue + L_service,
        'T_system': T_queue + T_service,
    }


ab = calculate_system_metrics(9+6, 18)
a = calculate_system_metrics(9, 18)
b = calculate_system_metrics(6, 18)

print_map(ab)
print()
sum_ab = {key: (a[key] + b[key])/2 for key in set(a) & set(b)}
print_map(sum_ab)
```

В скрипте выводятся характеристики для очереди с одним окном `ab` и с раздельными окнами `sum_ab`.

На основе вычислений была составлена таблица \ref{table:Значения СМО}.

\sutable{Значения СМО}{
\begin{tabular}{|c|c|c|c|c|c|c|c|}
  \hline
       & $\rho$ & $L_{оч}$ & $T_{оч}$ & $L_{об}$ & $T_{об}$ & $L_{сист}$ & $T_{сист}$\\
  \hline
  $AB$ & $0.82$ & $4.17$ & $0.28$ & $0.83$ & $0.06$ & $5.0$ & $0.33$\\
  \hline
  $A+B$ & $0.42$ & $0.33$ & $0.04$ & $0.42$ & $0.06$ & $0.75$ & $0.1$\\
  \hline
\end{tabular}
}

# Вывод

В результате выполнения работы мы провели анализ системы массового обслуживания (СМО), интерпретировав задачу в рамках данной модели. Мы использовали математические формулы для расчета основных характеристик СМО, таких как среднее число пассажиров в кассе, среднее число пассажиров в очереди, среднее время, которое проводят пассажиры в кассе, и среднее время простаивания пассажиров в очереди.

С помощью написанного нами скрипта на Python, мы провели расчеты и получили конкретные значения для каждой из характеристик. Эти данные позволили нам сделать вывод о том, что продажа билетов в разные пункты в разных окнах является **более эффективной** стратегией, поскольку среднее время пребывания пассажира в системе существенно сокращается.

Таким образом, на основе проведенного анализа и полученных результатов, мы можем рекомендовать внедрение предложенной стратегии для улучшения работы кассы и сокращения времени ожидания для пассажиров.
